<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        *{padding: 0;margin: 0;}
        img{height: 50px;width: 48px;}
        .full{
            width: 260px;
            cursor: pointer;
        }
        .wrap{
            position: relative;
            left: 50%;
			margin-left: -130px;
            height: 50px;
            width: 260px;
        }
        .wrap2 {
            position: relative;
			margin: 50px 0 0 -130px;		
            left: 50%;
        }
        .wrap div{
            position: absolute;
        }
        .s1{
            width: 260px;
            cursor: pointer;
        }
        .s2{
            overflow: hidden;
            height: 50px;
        }
        
        ul{
            list-style: none;
        }
        ul li{
            float: left;
        }
    </style>
    <script src="../jquery-1.5.1.js"></script>
    <script>
        $(function (e) {
///精确星打分///
            function test(a){
                 return (a/52).toFixed(1);
        }
            // $.fn.myfun=function(a){
            //     alert(a)
            // }
             var con;
             $(".s2").width("0px");
             $(".wrap").mousemove(function(e) {
                var offsetX = e.pageX - $(this).offset().left;
                $(".s2").width(offsetX+"px")
                console.log(offsetX);
                // $().myfun(e);
                con = test(offsetX);
                 $(".evaluate").html("您的评价分数是")
                  $("span").html(con)
             });

             $(".wrap").click(function(e) {
                alert("您最终的评价分数是："+con+" 谢谢评价！")
             });

///全星打分///
             $("ul li img").hover(function(event) {
                if(!$(this).hasClass('js')){
                 $(this).attr('src','star2.png').parent().prevAll().children('img').attr('src','star2.png')
                 $(this).parent().nextAll().children('img').attr('src','star1.png')
             }
             },function(){
                if(!$(this).hasClass('js')){
                     $("ul li img").attr('src','star1.png');
                }
             });

             $("ul li img").click(function(event) {
                if($(this).hasClass('js')){
                    alert("您已打分，谢谢！")
                }else{
                 $("ul li img").addClass('js');
                 $(this).attr('src','star2.png').parent().prevAll().children('img').attr('src','star2.png')
                 $("h3").html("打分成功，您的评价是："+($(this).parent().index()+1)+"分")
                }
             });
        })
    </script>
</head>
<body>
<div class="wrap">
	<h2>精确打分（0.1）</h2>
    <div class="s1">
        <img src="star1.png" alt="">
        <img src="star1.png" alt="">
        <img src="star1.png" alt="">
        <img src="star1.png" alt="">
        <img src="star1.png" alt="">
    </div>
    <div class="s2">
        <img src="fullstar.PNG" class="full">
    </div>
    <div class="evaluate" style="position: relative;height: 30px;float: left;top: 50px;"></div>
    <span style="position: relative;color: red;font-weight: 600;top: 50px;"></span>
</div>

<hr style="margin-top: 90px;">
<div class="wrap2">
	<h2>全星打分</h2>
    <ul>
        <li><img src="star1.png" alt=""></li>
        <li><img src="star1.png" alt=""></li>
        <li><img src="star1.png" alt=""></li>
        <li><img src="star1.png" alt=""></li>
        <li><img src="star1.png" alt=""></li>
    </ul>
    <h3 style="clear: both;">请打分！</h3>
</div>
</body>
</html>